"use strict";class Puzzle{constructor(){this.moves;this.started;this.board=document.getElementById("board");document.getElementById("shuffle").addEventListener("click",()=>{this.shuffle()});this.reset()}reset(){while(this.board.hasChildNodes())this.board.removeChild(this.board.firstChild);this.moves=0;this.started=!1;document.getElementById("moves").innerText=this.moves;document.getElementById("done").style.visibility="hidden";let e=1;for(let n=0;n<6;n++){for(let t=0;t<6;t++){let r=document.createElement("div");r.id=`${t}_${n}`;n===0||t===0||n===5||t===5?((n===0||n===5)&&(t===0||t===5)?(r.className="hide"):(r.className="btn",n===0?(r.innerText="ðŸ¡‡",r.func=()=>{this.rollDownRight(t,!0)}):n===5&&(r.innerText="ðŸ¡…",r.func=()=>{this.rollUpLeft(t,!0)}),t===0?(r.innerText="ðŸ¡†",r.func=()=>{this.rollDownRight(n,!1)}):t===5&&(r.innerText="ðŸ¡„",r.func=()=>{this.rollUpLeft(n,!1)}),r.addEventListener("click",e=>{e.srcElement.func()}))):(r.className="numbers",r.innerText=`${e}`,e++);this.board.appendChild(r)}}document.getElementById("shuffle").innerText="SHUFFLE"}shuffle(){if(this.started)this.reset();else{this.started=!0;let e=Math.floor(Math.random()*30)+30;for(let n=0;n<e;n++){switch(Math.floor(Math.random()*4)){case 0:this.rollDownRight(Math.floor(Math.random()*4)+1,!1);break;case 1:this.rollUpLeft(Math.floor(Math.random()*4)+1,!0);break;case 2:this.rollUpLeft(Math.floor(Math.random()*4)+1,!1);break;case 3:this.rollDownRight(Math.floor(Math.random()*4)+1,!0);break}}this.moves=0;document.getElementById("moves").innerText=this.moves;document.getElementById("shuffle").innerText="RESTART"}}getElements(e,n){let t=Array.from(document.querySelectorAll(".numbers"));for(let r=15;r>-1;r--)t[r].id[(n?0:2)]!=e&&t.splice(r,1);return t}rollDownRight(e,n){if(!this.started)return;let t=this.getElements(e,n),r=t[3].innerText;for(let e=3;e>0;e--)t[e].innerText=t[e-1].innerText;t[0].innerText=r;this.updateMoves();this.checkSolved()}rollUpLeft(e,n){if(!this.started)return;let t=this.getElements(e,n),r=t[0].innerText;for(let e=0;e<3;e++)t[e].innerText=t[e+1].innerText;t[3].innerText=r;this.updateMoves();this.checkSolved()}updateMoves(){this.moves++;document.getElementById("moves").innerText=this.moves}checkSolved(){function e(){let e=document.querySelectorAll(".numbers"),n=1;for(let t of e){if(t.innerText!=n)return!1;n++}return!0}this.started&&e()&&(document.getElementById("done").style.visibility="visible")}}new Puzzle